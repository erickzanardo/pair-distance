const { expect } = require("chai");
const pairsDistance = require("../pair-distance");

const values = [
  { pattern: "pattern", comparison: "pattr en", value: 0.5454545454545454 },
  { pattern: "pattern", comparison: "pattren", value: 0.5 },
  { pattern: "pattern", comparison: "pattrn", value: 0.7272727272727273 },
  { pattern: "pattern", comparison: "super pattern", value: 0.75 },
  { pattern: "pattern", comparison: "sup er pa tte rn", value: 0.7692307692307693 },

  { pattern: "Don Vito Corleone", comparison: "Don Vito", value: 0.5882352941176471 },
  { pattern: "Don Vito Corleone", comparison: "Godfather Don Vito Corleone", value: 0.75 },
  { pattern: "Don Vito Corleone", comparison: "The Godfather Corleone", value: 0.4827586206896552 },
  { pattern: "Don Vito Corleone", comparison: "Michael Corleone", value: 0.56 },
]

describe("#pairsDistance", () =>
  values.forEach(({ pattern, comparison, value }) => {
    it(`matches the value ${value} generated by the gem`, () =>
      expect(value - pairsDistance(comparison, pattern)).to.be.at.most(0.05)
    )
  })
);
